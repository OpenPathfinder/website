# OpenJS Security Program Standards

This repo contains the source code and infra used to build and the deploy the website: https://openjs-security-program-standards.netlify.app/.

## Website

This website is built using [Docusaurus 2](https://docusaurus.io/) and [generator-fast-documentation](https://github.com/UlisesGascon/generator-fast-documentation)

### Installation

```
$ npm i
```

### Local Development

```
$ npm start
```

This command starts a local development server and opens up a browser window. Most changes are reflected live without having to restart the server.

### Build

```
$ npm run build
```

This command generates static content into the `build` directory and can be served using any static contents hosting service.

### Manage releases

- Check [standard-version docs](https://github.com/conventional-changelog/standard-version)

### Manage git Hooks

- Check [Husky docs](https://github.com/typicode/husky)

## Manage Changes

Most of the content of this website is autogenerated with Github Actions, this include the content from [docs/implementations](/docs/implementations) and [docs/details](/docs/details) files.


### Update the compliance checks

1. Go to [Actions: Sync and update Compliance Checks](https://github.com/secure-dashboards/openjs-security-program-standards/actions/workflows/sync_checks.yml) and run the action manually from the `main` branch. [how-to](https://docs.github.com/en/actions/managing-workflow-runs-and-deployments/managing-workflow-runs/manually-running-a-workflow)
2. This will generate a PR with the title `[AUTO] Sync with dashboard database` and it will assign it to you ([direct access](https://github.com/secure-dashboards/openjs-security-program-standards/pulls?q=sort%3Aupdated-desc+is%3Apr+is%3Aopen++%5BAUTO%5D+Sync+with+dashboard+database+)). Please review the content and merge it when you feel ready.

### Manual update

Once you have updated the [data/checks.json](/data/checks.json) file, you can update the website by running the following commands:

```bash
npm run populate-details
npm run populate-implementations
```

This will autopolulate the details and implementations sections of the website, respectively. So make sure to commit the changes.

